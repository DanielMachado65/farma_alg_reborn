<div id="graph-container" style="height: 600px">
  <div id="graph-menu" class="btn-group-vertical">
    <button id="add-nodes" type="button" class="btn btn-secondary"
            title="Adicionar respostas ao grafo">
      <i class="fa fa-plus"></i>
    </button>
    <button id="pause-resume" type="button" class="btn btn-secondary"
            title="Parar/reiniciar animação do grafo">
      <i class="fa fa-pause"></i>
    </button>
    <button id="back-center" type="button" class="btn btn-secondary"
            title="Retornar ao centro do grafo">
      <i class="fa fa-crosshairs"></i>
    </button>
    <button id="remove-graph" type="button" class="btn btn-secondary"
            title="Remover o grafo">
      <i class="fa fa-trash-o"></i>
    </button>
  </div>
</div>

<script text="text/javascript">
  function createModal(modal_name) {
    var div = $(document.createElement('div'))
    div.attr('id', modal_name + '-container');
    $('body').append(div);
    $(div).html("<%= escape_javascript(render 'graph/search_modal') %>");
    $('body').append(div);
  }
</script>

<script text="text/javascript">
  initialize_graph();

  $('#pause-resume').click(function() {
     if ($('#pause-resume i').attr('class') == "fa fa-pause") {
       pause();
       $('#pause-resume i').attr('class', 'fa fa-play');
       $('#pause-resume i').attr('title', 'Resume graph animation');
     }
     else {
       resume();
       $('#pause-resume i').attr('class', 'fa fa-pause');
       $('#pause-resume i').attr('title', "Stop graph animation");
     }
   });

   $('#back-center').click(function() {
     reset();
   });

   $('#remove-graph').click(function() {
     dispose();
   });

   $('#add-nodes').click(function() {
     showModal("search", false);
   });


</script>
