<%= provide(:header, "Similaridade entre respostas") %>

<div class="row">
  <div class="col-md-6">
    <%= render layout: 'shared/structures/box_default',
               locals: { box_title: "Informações principais" } do %>

      <%= render 'connection_info' %>

      <br></br>

      <table style="width: 100%">
        <tbody>
          <tr>
            <td>
              <button class="btn btn-primary text-center" style="width: 100%"
                      data-toggle="collapse" data-target="#diff">Comparar respostas</button>
              <div id="diff" class="collapse"></div>
            </td>
          </tr>

          <tr>
            <td>
              <%= link_to "Rejeitar similaridade",
                          answer_connection_path(@connection), method: :delete,
                          style: "width: 100%", class: "btn btn-primary text-center",
                          data: { confirm: "Uma vez rejeitada, a similaridade será excluída e não aparecerá mais no grafo. Deseja confirmar esta ação?" }
              %>

            </td>
          </tr>
        </tbody>
      </table>

    <% end %>
  </div>
</div>

<script text="text/javascript">
  var baseText = "<%= j raw(@connection.answer_1.content) %>";
  var newText = "<%= j raw(@connection.answer_2.content) %>";
  var baseTextName = "Resposta 1";
  var newTextName = "Resposta 2";
  var tagId = "diff"

  diffView(baseText, newText, baseTextName, newTextName, tagId);
</script>
