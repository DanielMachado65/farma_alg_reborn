$('#test-results').append('<b><a href="#" id="show-log">Ver o resultado</i></b>')

// Display each result in the screen.
<% @results.each do |result| %>
  // Div to put the result.
  var div = $(document.createElement('div'));

  <% if result[:status] == :error %>
    div.attr('class', 'alert alert-danger text-left');
    div.append("<i class='icon fa fa-close'> <%= result[:title] %></i>");
  <% else %>
    div.attr('class', 'alert alert-success text-left');
    div.append("<i class='icon fa fa-check'> <%= result[:title] %></i>");
  <% end %>

  $('#test-results').append(div)
<% end %>

// Open modal displaying the log content.
$('#show-log').click(function(event) {
  // 'output' is the variable with the content shown in modal.
  var output = '<%= raw j(@output) %>'
  <%= render partial: 'show_log_modal' %>
});
