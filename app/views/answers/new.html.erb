
<div class="col-md-6" style="border-right: 1px solid black">
  <%= form_for @answer, remote: true do |f| %>
    <%= render 'shared/error_messages', object: f.object %>

    <div class="form-group">
      <%= f.text_area :content, id: 'editor', class: "form-control" %>
      <div id="editor_div"><%= @escaped_text %></div>
    </div>

    <%= f.submit "Submeter resposta", class: "btn btn-primary btn-xs pull-right" %>
  <% end %>

  <div id="test-results"></div>
</div>

<div class="row">
  <div class="col-md-6">
    <div class="box box-solid">
      <div class="box-header with-border">
        <h3 class="box-title"><b>Enunciado:</b></h3>
      </div>

      <div class="box-body">
        <%= markdown(@question.description) %>
      </div>
    </div>
  </div>

<script>
  var textarea = $('#editor');
  textarea.hide();

  var editor = ace.edit("editor_div");
  editor.setTheme("ace/theme/twilight");
  editor.getSession().setMode("ace/mode/pascal");

  $('input[name="commit"]').on('click', function() {
    console.log(editor.getSession().getValue())
    textarea.val(editor.getSession().getValue());
  });
</script>
